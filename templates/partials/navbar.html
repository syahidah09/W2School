{% load static %}
<header class="header z-index-50">
  <nav class="navbar py-3 px-0 shadow-sm w3-theme-d2 bg-gradient text-white position-relative">
    <div class="container-fluid w-100">
      <div class="navbar-holder d-flex align-items-center justify-content-between w-100">
        <!-- Navbar Header-->
        <div class="navbar-header">
          <!-- Navbar Brand --><a class="navbar-brand d-none d-sm-inline-block" href="">
            <div class="brand-text d-none d-lg-inline-block"><span>Wallet
              </span><strong>2</strong><span>School
              </span>
              {% if request.user.is_staff %} <small> Admin</small> {% endif %}
            </div>
            <div class="brand-text d-none d-sm-inline-block d-lg-none"><strong>W2S</strong></div>
          </a>
          <!-- Toggle Button--><a class="menu-btn active" id="toggle-btn" href="#"><span></span><span></span><span></span></a>
        </div>
        {% if request.user.is_authenticated %}
        <!-- Navbar Menu -->
        <ul class="nav-menu list-unstyled d-flex flex-md-row align-items-md-center">
          {% if request.user.is_staff %}
          <!-- Notifications-->
          <!-- <li class="nav-item dropdown">
            <a class="nav-link text-white" id="notifications" href="#"
               data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              <i class="fas fa-bell" aria-hidden="true"></i>
              <span class="badge bg-red badge-corner fw-normal">12</span>
            </a>
            <ul class="dropdown-menu dropdown-menu-end mt-3 shadow-sm" aria-labelledby="notifications">
              <li>
                <a class="dropdown-item py-3" href="#">
                  <div class="d-flex">
                    <div class="icon icon-sm bg-blue">
                      <i class="fas fa-question-circle" aria-hidden="true"></i>
                    </div>
                    <div class="ms-3">
                      <span class="h6 d-block fw-normal mb-1 text-xs text-gray-600">You have 6 new messages </span>
                      <small class="small text-gray-600">4 minutes ago</small>
                    </div>
                  </div>
                </a>
              </li>
              <li><a class="dropdown-item all-notifications text-center" href="#"> <strong
                          class="text-xs text-gray-600">View all notifications </strong></a></li>
            </ul>
          </li> -->
          <!-- Messages -->
          <!-- <li class="nav-item dropdown">
            <a class="nav-link text-white" id="messages" rel="nofollow" href="#"
               data-bs-toggle="dropdown" aria-expanded="false">
              <i class="fas fa-envelope" aria-hidden="true"></i>
              <span class="badge bg-orange badge-corner fw-normal">10</span>
            </a>
            <ul class="dropdown-menu dropdown-menu-end mt-3 shadow-sm" aria-labelledby="messages">
              <li>
                <a class="dropdown-item d-flex py-3" href="#"> 
                  <img class="img-fluid rounded-circle" src="{% static 'img/avatar-1.jpg' %}" alt="..." width="45">
                  <div class="ms-3">
                    <span class="h6 d-block fw-normal mb-1 text-sm text-gray-600">Jason Doe</span>
                    <small class="small text-gray-600"> Sent You Message</small>
                  </div>
                </a>
              </li>
            </ul>
          </li> -->
          <!-- Logout    -->
          <li class="nav-item">
            <a class="nav-link text-white" href="{% url 'ewalletAdmin:logout' %}">
              <span class="d-none d-sm-inline">Logout</span>
            </a>
          </li>
          {% else %}
          <!-- Notifications-->
          {% if notification %}
          <!-- <li class="nav-item dropdown">
            <a class="nav-link text-white" id="notifications" href="#"
               data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              <i class="fas fa-bell" aria-hidden="true"></i>
              <span class="badge bg-red badge-corner fw-normal">12</span>
            </a>
            <ul class="dropdown-menu dropdown-menu-end mt-3 shadow-sm" aria-labelledby="notifications">
              <li>
                <a class="dropdown-item py-3" href="#">
                  <div class="d-flex">
                    <div class="icon icon-sm bg-blue">
                      <i class="fas fa-question-circle" aria-hidden="true"></i>
                    </div>
                    <div class="ms-3">
                      <span class="h6 d-block fw-normal mb-1 text-xs text-gray-600">You have 6 new messages </span>
                      <small class="small text-gray-600">4 minutes ago</small>
                    </div>
                  </div>
                </a>
              </li>
              <li><a class="dropdown-item all-notifications text-center" href="#"> <strong
                          class="text-xs text-gray-600">View all notifications </strong></a></li>
            </ul>
          </li> -->
          {% endif %}
          <!-- Cart -->
          {% if items %}
          <li class="nav-item dropdown">
            <a class="nav-link text-white" id="cart" href="#" data-bs-toggle="dropdown"
               aria-expanded="false">
              <i class="fas fa-shopping-cart" aria-hidden="true"></i>
              <span class="badge bg-red badge-corner fw-normal">{{ items.count }}</span>
            </a>
            <ul class="dropdown-menu dropdown-menu-end mt-3 shadow-sm" aria-labelledby="cart">
              <li>
                <a class="dropdown-item pt-3" href="#">
                  {% for item in items %}
                  <div class="d-flex flex-row align-items-center">                    
                    <div class="icon icon-sm bg-blue">
                      <i class="fas fa-question-circle" aria-hidden="true"></i>
                    </div>
                    <div class="ms-3">
                      <span class="h6 d-block fw-normal mb-1 text-xs text-gray-600">{{ item.product.name }}</span>
                      <small class="small text-gray-600">RM {{ item.product.price|floatformat:2 }} </small>
                    </div>                   
                  </div><hr class="my-2">  
                  {% endfor %}
                </a>
              </li>
              <li><a class="dropdown-item all-notifications text-center mt-0" href="{% url 'ewallet:cart' %}"> <strong
                          class="text-xs text-gray-600">View cart </strong></a></li>
            </ul>
          </li>
          {% endif %}
          <!-- Logout    -->
          <li class="nav-item">
            <a class="nav-link text-white" href="{% url 'ewallet:logout' %}">
              <span class="d-none d-sm-inline">Logout</span>
            </a>
          </li>
          {% endif %}
          <!-- Languages dropdown    -->
          <!-- <li class="nav-item dropdown">
            <a class="nav-link text-white dropdown-toggle d-flex align-items-center"
               id="languages" href="#" data-bs-toggle="dropdown" aria-expanded="false">
              <img class="me-2" src="{% static 'img/flags/16/GB.png' %}" alt="English">
              <span class="d-none d-sm-inline-block">English</span>
            </a>
            <ul class="dropdown-menu dropdown-menu-end mt-3 shadow-sm" aria-labelledby="languages">
              <li>
                <a class="dropdown-item" rel="nofollow" href="#">
                  <img class="me-2" src="{% static 'img/flags/16/MY.png' %}" alt="Malay">
                  <span class="text-xs text-gray-700">Malay</span>
                </a>
              </li>
            </ul>
          </li> -->
          {% endif %}


          {% if not request.user.is_authenticated %}
          <!-- Register    -->
          <li class="nav-item"><a class="nav-link text-white" href="{% url 'ewallet:register' %}"> <span
                    class="d-none d-sm-inline">Register</span>
            </a></li>
          <!-- Login    -->
          <li class="nav-item"><a class="nav-link text-white" href="{% url 'ewallet:login' %}"> <span
                    class="d-none d-sm-inline">Login</span>
            </a></li>
          {% endif %}
        </ul>
      </div>
    </div>
  </nav>
</header>
